# AI Agent ä»£ç æ ¼å¼åŒ–è§„åˆ™

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜ AI Agent åœ¨ä¿®æ”¹æºä»£ç æ—¶å¿…é¡»éµå®ˆçš„æ ¼å¼åŒ–å’Œ Linting è§„åˆ™ã€‚

## ğŸš¨ æ ¸å¿ƒåŸåˆ™

> **MANDATORY: æ¯æ¬¡ä¿®æ”¹æºä»£ç åå¿…é¡»è¿è¡Œ `pnpm lint --fix`**
>
> **NEVER æäº¤æˆ–å®Œæˆä»»åŠ¡æ—¶ç•™ä¸‹æ ¼å¼åŒ–/Linting é”™è¯¯**

---

## ğŸ¯ å¼ºåˆ¶è§„åˆ™

### 1. **ç«‹å³ä¿®å¤ Linting é—®é¢˜**

**è§„åˆ™**ï¼šä¿®æ”¹ä»»ä½•æºä»£ç æ–‡ä»¶åï¼ŒAI Agent **å¿…é¡»**ç«‹å³æ‰§è¡Œ `pnpm lint --fix`

**åŸå› **ï¼š
- âœ… è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯
- âœ… åº”ç”¨ Prettier æ ¼å¼åŒ–
- âœ… ä¿®å¤ import é¡ºåº
- âœ… ç§»é™¤æœªä½¿ç”¨çš„ imports
- âœ… ç¡®ä¿ä»£ç é£æ ¼ä¸€è‡´

**å·¥ä½œæµç¨‹**ï¼š

```bash
# 1. ä¿®æ”¹ä»£ç æ–‡ä»¶
# (AI Agent è¿›è¡Œä¿®æ”¹)

# 2. ç«‹å³è¿è¡Œ lint fix
cd <project-directory>
pnpm lint --fix

# 3. éªŒè¯æ²¡æœ‰é”™è¯¯
pnpm lint

# 4. å¦‚æœä»æœ‰é”™è¯¯ï¼Œæ‰‹åŠ¨ä¿®å¤
# (ç„¶åé‡æ–°è¿è¡Œ step 2-3)
```

---

### 2. **éµå¾ª Prettier é…ç½®**

**è§„åˆ™**ï¼šæ‰€æœ‰æ–°å¢æˆ–ä¿®æ”¹çš„ä»£ç å¿…é¡»éµå¾ªé¡¹ç›®çš„ Prettier é…ç½®

**å…³é”®æ ¼å¼è§„åˆ™**ï¼š

| è§„åˆ™ | è®¾ç½® | ç¤ºä¾‹ |
|------|------|------|
| **å¼•å·é£æ ¼** | å•å¼•å· (`'`) | `import { foo } from 'bar';` |
| **åˆ†å·** | å¿…éœ€ (`;`) | `const x = 1;` |
| **å°¾éšé€—å·** | ES5 é£æ ¼ | `{ a, b, c }` ä¸æ˜¯ `{ a, b, c, }` |
| **è¡Œå®½** | 80-100 å­—ç¬¦ | è‡ªåŠ¨æ¢è¡Œ |
| **ç¼©è¿›** | 2 ç©ºæ ¼ | ä¸€è‡´çš„é—´è· |
| **ç®­å¤´å‡½æ•°** | éœ€è¦æ‹¬å·æ—¶ä½¿ç”¨ | `(x) => x + 1` |

---

### 3. **ç¼–å†™ä»£ç æ—¶å³éµå¾ªè§„èŒƒ**

**è§„åˆ™**ï¼šAI Agent åœ¨ç¼–å†™ä»£ç æ—¶å°±åº”è¯¥éµå¾ªæ ¼å¼è§„èŒƒï¼Œè€Œä¸æ˜¯ä¾èµ–åæœŸä¿®å¤

**æœ€ä½³å®è·µ**ï¼š

âœ… **DOï¼ˆæ¨èï¼‰**ï¼š

```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨å•å¼•å·ï¼ŒåŠ åˆ†å·
import { Component } from 'react';

export const MyComponent = () => {
  const value = 10;
  return <div>{value}</div>;
};
```

âŒ **DON'Tï¼ˆé¿å…ï¼‰**ï¼š

```typescript
// âŒ é”™è¯¯ï¼šåŒå¼•å·ï¼Œç¼ºåˆ†å·
import { Component } from "react"

export const MyComponent = () => {
  const value = 10
  return <div>{value}</div>
}
```

---

## ğŸ“ å¸¸è§ Prettier ä¿®å¤

### 1. å¼•å·é£æ ¼

```typescript
// âŒ BAD (åŒå¼•å·)
import { Component } from "react"

// âœ… GOOD (å•å¼•å·)
import { Component } from 'react';
```

### 2. åˆ†å·

```typescript
// âŒ BAD (ç¼ºå°‘åˆ†å·)
const x = 1
const y = 2

// âœ… GOOD (å¸¦åˆ†å·)
const x = 1;
const y = 2;
```

### 3. é•¿è¡Œå¤„ç†

```typescript
// âŒ BAD (è¶…å‡ºè¡Œå®½)
const result = someVeryLongFunctionName(param1, param2, param3, param4, param5, param6);

// âœ… GOOD (è‡ªåŠ¨æ¢è¡Œ)
const result = someVeryLongFunctionName(
  param1,
  param2,
  param3,
  param4,
  param5,
  param6
);
```

### 4. å¯¹è±¡/æ•°ç»„æ ¼å¼åŒ–

```typescript
// âŒ BAD (ä¸ä¸€è‡´çš„æ ¼å¼)
const obj = {a:1,b:2,c:3}

// âœ… GOOD (Prettier æ ¼å¼åŒ–)
const obj = { a: 1, b: 2, c: 3 };

// é•¿å¯¹è±¡ï¼š
const obj = {
  property1: 'value1',
  property2: 'value2',
  property3: 'value3',
};
```

### 5. Import è¯­å¥

```typescript
// âŒ BAD (é”™è¯¯çš„å¼•å·é£æ ¼)
import {foo,bar,baz} from "module"

// âœ… GOOD (Prettier æ ¼å¼åŒ–)
import { foo, bar, baz } from 'module';
```

---

## ğŸ”§ AI Agent å·¥ä½œæµç¨‹

### æ ‡å‡†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. AI Agent ä¿®æ”¹ä»£ç                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. ç«‹å³è¿è¡Œ: pnpm lint --fix           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. æ£€æŸ¥ç»“æœ: pnpm lint                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. å¦‚æœ‰é”™è¯¯ï¼Œæ‰‹åŠ¨ä¿®å¤                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. é‡å¤ step 2-3 ç›´åˆ°æ— é”™è¯¯             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6. âœ… å®Œæˆä»»åŠ¡                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®é™…ç¤ºä¾‹

```bash
# åœºæ™¯: ä¿®æ”¹äº† apps/web/components/example.tsx

# Step 1: è¿›å…¥é¡¹ç›®ç›®å½•
cd apps/web

# Step 2: è¿è¡Œ lint fix
pnpm lint --fix

# è¾“å‡º:
# âœ” No ESLint warnings or errors

# Step 3: éªŒè¯
pnpm lint

# è¾“å‡º:
# âœ” No ESLint warnings or errors

# âœ… å®Œæˆï¼
```

---

## âš ï¸ é”™è¯¯å¤„ç†

### å¸¸è§ Prettier é”™è¯¯

```bash
# é”™è¯¯ç¤ºä¾‹:
./components/example.tsx
12:45  Error: Replace `"react"` with `'react';`  prettier/prettier
15:1   Error: Delete `Â·Â·`  prettier/prettier
20:80  Error: Insert `âÂ·Â·`  prettier/prettier
```

### è§£å†³æ­¥éª¤

1. **è¿è¡Œ `pnpm lint --fix`**ï¼ˆè‡ªåŠ¨ä¿®å¤å¤§å¤šæ•°é—®é¢˜ï¼‰
2. **å¦‚æœé”™è¯¯ä»ç„¶å­˜åœ¨ï¼Œæ‰‹åŠ¨æ£€æŸ¥**ï¼š
   - æ£€æŸ¥å¼•å·é£æ ¼ï¼ˆå•å¼•å· vs åŒå¼•å·ï¼‰
   - éªŒè¯åˆ†å·
   - æ£€æŸ¥è¡Œé•¿åº¦
   - éªŒè¯ç¼©è¿›
3. **é‡æ–°è¿è¡Œ `pnpm lint --fix`**
4. **éªŒè¯ `pnpm lint`**

---

## ğŸ“Š é¡¹ç›®ç‰¹å®šå‘½ä»¤

### Linting å‘½ä»¤

| é¡¹ç›®ä½ç½® | å‘½ä»¤ | è¯´æ˜ |
|---------|------|------|
| `/apps/web/` | `pnpm lint --fix` | æ ¼å¼åŒ– web åº”ç”¨ä»£ç  |
| `/apps/console/` | `pnpm lint --fix` | æ ¼å¼åŒ– console åº”ç”¨ä»£ç  |
| `/packages/*/` | `pnpm lint --fix` | æ ¼å¼åŒ– package ä»£ç  |
| æ ¹ç›®å½• | `pnpm lint:all --fix` | æ ¼å¼åŒ–æ•´ä¸ª monorepo |

---

## âœ… è´¨é‡é—¨æ§›

**ä»»åŠ¡å®Œæˆå‰å¿…é¡»é€šè¿‡ï¼š**

- âœ… `pnpm lint` è¾“å‡ºä¸­æ—  Prettier é”™è¯¯
- âœ… æ‰€æœ‰å¼•å·éƒ½æ˜¯å•å¼•å· (`'`)
- âœ… æ‰€æœ‰è¯­å¥ä»¥åˆ†å·ç»“æŸ (`;`)
- âœ… ç¼©è¿›ä¸€è‡´ï¼ˆ2 ç©ºæ ¼ï¼‰
- âœ… è¡Œé•¿åº¦åˆç†ï¼ˆ<100 å­—ç¬¦ï¼‰
- âœ… Imports æ ¼å¼æ­£ç¡®

---

## ğŸš« ç¦æ­¢çš„è¡Œä¸º

**AI Agent ç»å¯¹ä¸èƒ½ï¼š**

âŒ æäº¤å¸¦æœ‰ Prettier é”™è¯¯çš„ä»£ç   
âŒ å®Œæˆä»»åŠ¡æ—¶ç•™ä¸‹æ ¼å¼åŒ–é—®é¢˜  
âŒ è·³è¿‡ `pnpm lint --fix` æ­¥éª¤  
âŒ å¿½ç•¥ linting è­¦å‘Šå’Œé”™è¯¯  
âŒ ä½¿ç”¨åŒå¼•å·ï¼ˆåº”ä½¿ç”¨å•å¼•å·ï¼‰  
âŒ çœç•¥åˆ†å·  
âŒ ä½¿ç”¨ä¸ä¸€è‡´çš„ç¼©è¿›  

---

## ğŸ¯ æ£€æŸ¥æ¸…å•

AI Agent åœ¨å®Œæˆä»»åŠ¡å‰å¿…é¡»ç¡®è®¤ï¼š

```markdown
- [ ] æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶éƒ½è¿è¡Œäº† `pnpm lint --fix`
- [ ] `pnpm lint` æ²¡æœ‰æŠ¥å‘Šä»»ä½•é”™è¯¯
- [ ] ä»£ç ä½¿ç”¨å•å¼•å·
- [ ] ä»£ç ä½¿ç”¨åˆ†å·
- [ ] ç¼©è¿›ä¸€è‡´ï¼ˆ2 ç©ºæ ¼ï¼‰
- [ ] Import è¯­å¥æ ¼å¼æ­£ç¡®
- [ ] æ²¡æœ‰è¶…é•¿è¡Œï¼ˆé™¤éå¿…è¦ï¼‰
- [ ] å¯¹è±¡å’Œæ•°ç»„æ ¼å¼åŒ–æ­£ç¡®
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `.cursorrules` - AI Agent å®Œæ•´è§„åˆ™
- `.prettierrc` - Prettier é…ç½®æ–‡ä»¶
- `.eslintrc.json` - ESLint é…ç½®æ–‡ä»¶

---

## ğŸ’¡ ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦

### ä»£ç ä¸€è‡´æ€§

âœ… **ç»Ÿä¸€çš„ä»£ç é£æ ¼**ï¼šæ‰€æœ‰å¼€å‘è€…å’Œ AI Agent éµå¾ªç›¸åŒè§„èŒƒ  
âœ… **å¯è¯»æ€§æ›´å¥½**ï¼šä¸€è‡´çš„æ ¼å¼ä½¿ä»£ç æ›´æ˜“ç†è§£  
âœ… **å‡å°‘å†²çª**ï¼šé¿å…å› æ ¼å¼é—®é¢˜å¯¼è‡´çš„ Git å†²çª  
âœ… **ä¸“ä¸šæ€§**ï¼šå±•ç¤ºé¡¹ç›®çš„é«˜è´¨é‡æ ‡å‡†  

### å¼€å‘æ•ˆç‡

âœ… **è‡ªåŠ¨åŒ–**ï¼š`pnpm lint --fix` è‡ªåŠ¨ä¿®å¤å¤§å¤šæ•°é—®é¢˜  
âœ… **å¿«é€Ÿåé¦ˆ**ï¼šç«‹å³å‘ç°å’Œä¿®å¤æ ¼å¼é—®é¢˜  
âœ… **å‡å°‘ Review æ—¶é—´**ï¼šä¸éœ€è¦åœ¨ Code Review ä¸­è®¨è®ºæ ¼å¼  
âœ… **æ„å»ºæˆåŠŸ**ï¼šé¿å…å› æ ¼å¼é”™è¯¯å¯¼è‡´æ„å»ºå¤±è´¥  

---

## ğŸ“ å­¦ä¹ èµ„æº

### Prettier å®˜æ–¹æ–‡æ¡£
- [Prettier Options](https://prettier.io/docs/en/options.html)
- [Integrating with ESLint](https://prettier.io/docs/en/integrating-with-linters.html)

### ESLint å®˜æ–¹æ–‡æ¡£
- [ESLint Rules](https://eslint.org/docs/rules/)
- [ESLint with Prettier](https://github.com/prettier/eslint-plugin-prettier)

---

## ğŸ”„ æ›´æ–°è®°å½•

| æ—¥æœŸ | å˜æ›´ | è¯´æ˜ |
|------|------|------|
| 2025-10-11 | æ·»åŠ  Prettier è§„åˆ™ | å¼ºåˆ¶è¦æ±‚ AI Agent éµå¾ªæ ¼å¼è§„èŒƒ |
| 2025-10-11 | æ›´æ–° Linting å·¥ä½œæµç¨‹ | åŒ…å« Prettier è‡ªåŠ¨ä¿®å¤ |
| 2025-10-11 | æ·»åŠ è´¨é‡é—¨æ§› | æ˜ç¡®ä»»åŠ¡å®Œæˆæ ‡å‡† |

---

## âœ¨ æ€»ç»“

**æ ¸å¿ƒä¿¡æ¯**ï¼š

1. âœ… **æ¯æ¬¡ä¿®æ”¹ä»£ç åè¿è¡Œ `pnpm lint --fix`**
2. âœ… **ä½¿ç”¨å•å¼•å·å’Œåˆ†å·**
3. âœ… **ä¿æŒ 2 ç©ºæ ¼ç¼©è¿›**
4. âœ… **æ°¸è¿œä¸è¦ç•™ä¸‹æ ¼å¼åŒ–é”™è¯¯**

**è®°ä½**ï¼šè‰¯å¥½çš„ä»£ç æ ¼å¼æ˜¯ä¸“ä¸šè½¯ä»¶å¼€å‘çš„åŸºç¡€ï¼ğŸš€

---

Author: xiaoweihsueh@gmail.com  
Date: October 11, 2025

